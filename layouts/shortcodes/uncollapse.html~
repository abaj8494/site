<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Undo collapsible functionality
    const collapsibleWrappers = document.querySelectorAll(".collapsible-wrapper");

    collapsibleWrappers.forEach((wrapper) => {
      const button = wrapper.querySelector(".toggle-button");
      const heading = wrapper.querySelector("h2, h3, h4, h5, h6");
      const content = wrapper.nextElementSibling;

      // Restore original heading structure
      if (button && heading) {
        wrapper.parentNode.insertBefore(heading, wrapper); // Move heading back to its original place
        wrapper.remove(); // Remove the wrapper and button
      }

      // Restore original content structure
      if (content && content.classList.contains("collapsible-content")) {
        const parent = content.parentNode;
        while (content.firstChild) {
          parent.insertBefore(content.firstChild, content); // Move content back to its original place
        }
        content.remove(); // Remove the collapsible content container
      }
    });

    // Remove the CSS added by collapse.html (optional cleanup)
    const styleTag = document.querySelector("style#collapsible-css");
    if (styleTag) {
      styleTag.remove();
    }
  });
</script>
