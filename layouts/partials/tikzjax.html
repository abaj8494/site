<!-- layouts/partials/tikzjax.html -->
{{ if or .Params.tikzjax .Site.Params.tikzjax }}
  <!-- Link TikZJax CSS -->
  <link
    rel="stylesheet"
    type="text/css"
    href="{{ "http://tikzjax.com/v1/fonts.css" }}"
  />

  <!-- Load TikZJax JavaScript -->
  <script src="{{ "http://tikzjax.com/v1/tikzjax.js" }}"></script>

  <!-- Standard TikZJax initialization -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Basic initialization targeting default script tags
      // You might need to adjust selectors if your .org file uses different types
      try {
        window
          .BoxJax(document)
          .then(() => {
            console.log("TikZJax official initialized successfully.");
          })
          .catch((error) => {
            console.error(
              "TikZJax official initialization failed:",
              error,
            );
          });
      } catch (e) {
        console.error("Error calling TikZJax:", e);
      }
    });
  </script>
{{ end }}
